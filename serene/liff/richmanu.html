<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rich Menu API-LINE OA</title>
  <meta name="description" content="Rich Menu API Admin for LIFF" />
  <meta name="author" content="9one" />
  <meta property="og:title" content="Rich Menu API Admin-9one" />
  <meta property="og:description" content="Rich Menu API for LIFF" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://lh3.googleusercontent.com/d/1diz2KXxiOna6_ltL_GKxvfT3JkJCZtvG" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
 
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@400;500;600;700&display=swap');
    /* Color Palette & Base Theme */
    :root {
      --color-bg-primary: #1F2937; /* Dark Slate */
      --color-bg-secondary: #374151; /* Medium Slate */
      --color-text-light: #F9FAFB;
      --color-text-muted: #9CA3AF;
      --color-accent-blue: #3B82F6; /* LINE/Primary Action Blue */
      --color-accent-red: #EF4444; /* Danger Red */
      --color-border: #4B5563;
    }

    body { font-family: 'Prompt', sans-serif; background-color: var(--color-bg-primary); color: var(--color-text-light); }
    .gradient-bg { background: var(--color-bg-primary); } /* Simplifies for modern dark mode, keeps original name */

    /* Button Styling */
    .btn {
      font-weight: 600;
      padding: 0.75rem 1.5rem;
      border-radius: 0.75rem; /* More rounded corners */
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      border: none;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--color-accent-blue) 0%, #60A5FA 100%);
      color: white;
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 10px rgba(59, 130, 246, 0.3);
      opacity: 0.9;
    }

    .btn-danger {
      background: linear-gradient(135deg, var(--color-accent-red) 0%, #F87171 100%);
      color: white;
    }
    .btn-danger:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 10px rgba(239, 68, 68, 0.3);
      opacity: 0.9;
    }

    /* Rich Menu Card Styling */
    .richmenu-card {
      background-color: var(--color-bg-secondary);
      border: 1px solid var(--color-border);
      border-radius: 1rem;
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
      overflow: hidden;
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
    }

    .richmenu-card:hover {
      transform: translateY(-5px);
      border-color: var(--color-accent-blue);
      box-shadow: 0 15px 25px rgba(59, 130, 246, 0.2);
    }

    /* Image Container */
    .img-container {
      position: relative;
      width: 100%;
      border-radius: 0.5rem;
      overflow: hidden;
      background: #374151; /* Darker placeholder */
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .img-container img {
      width: 100%;
      height: auto;
      aspect-ratio: 2500 / 843;
      object-fit: contain;
      display: block;
      pointer-events: none;
      user-select: none;
    }

    /* SweetAlert2 Customization */
    .swal2-popup {
      background-color: var(--color-bg-secondary) !important;
      color: var(--color-text-light) !important;
      border: 1px solid var(--color-border);
      border-radius: 1rem !important;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3) !important;
    }
    .swal2-title { color: var(--color-text-light) !important; }
    .swal2-html-container { color: var(--color-text-muted) !important; }
    .swal2-input {
      background-color: var(--color-bg-primary) !important;
      border: 1px solid var(--color-border) !important;
      color: var(--color-text-light) !important;
      border-radius: 0.5rem !important;
    }
    .swal2-input:focus {
      border-color: var(--color-accent-blue) !important;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5) !important;
    }
    .swal2-confirm { background-color: var(--color-accent-blue) !important; }
    .swal2-cancel { background-color: var(--color-border) !important; }

    /* Utility for Tailwind Overrides */
    button, a, label, [role=button], input[type=checkbox] {
      -webkit-tap-highlight-color: transparent;
    }

    #swal-user-results {
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
    }
    .fade-in {
      animation: fadeIn 0.5s ease-out both;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    #loading-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background-color: rgba(31, 41, 55, 0.9); backdrop-filter: blur(8px); /* Deeper dark blur */
      display: none; justify-content: center; align-items: center;
      z-index: 9999; flex-direction: column; gap: 1rem;
    }

  </style>
</head>
<body class="gradient-bg min-h-screen">

  <div id="loading-overlay">
        <svg class="animate-spin h-10 w-10 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
    <p id="loading-text" class="text-lg text-gray-300">กำลังโหลด...</p>
  </div>

  <div class="container mx-auto p-4 md:p-8">
    <header class="text-center mb-10 fade-in">
      <h1 class="text-5xl md:text-6xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400">
        Rich Menu API 🧑‍💻
      </h1>
      <p class="text-xl text-gray-400 mt-2">เครื่องมือจัดการ Rich Menu สำหรับ LINE OA</p>
    </header>

    <div class="mb-10 flex justify-center gap-4 fade-in" style="animation-delay: 0.2s;">
      <button id="cancel-default-btn" class="btn btn-danger font-bold py-3 px-8 rounded-xl shadow-lg">❌ ยกเลิก Rich Menu เริ่มต้น</button>
    </div>

    <main id="richmenu-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
          </main>
  </div>

    <script type="module">
        const LIFF_ID = "2000143615-RQWZXWKA";
        const SUPABASE_URL = "https://kiumelolsilduqnvrekf.supabase.co";
        const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdW1lbG9sc2lsZHVxbnZyZWtmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwODUyNzYsImV4cCI6MjA3MjY2MTI3Nn0.3hCFJiDrkgNJQEggS8MkRnxlhvqIMAax_a73NJQ14gU";

        const { createClient } = supabase;
        const supabaseClient = createClient(SUPABASE_URL, SUPABASE_KEY);

        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingText = document.getElementById('loading-text');
        const richMenuGrid = document.getElementById('richmenu-grid');
        const cancelDefaultBtn = document.getElementById('cancel-default-btn');
        
        let richMenuDataCache = new Map();

        const showLoading = (text = 'กำลังโหลด...') => {
            loadingText.textContent = text;
            loadingOverlay.style.display = 'flex';
        };
        const hideLoading = () => {
            loadingOverlay.style.display = 'none';
        };
        const showToast = (icon, title) => {
            Swal.fire({
                icon: icon, title: title, toast: true, position: 'top-end',
                showConfirmButton: false, timer: 3000, timerProgressBar: true,
                customClass: { popup: '!bg-gray-700 !text-white' } /* Adjusted toast class for better contrast */
            });
        };

        async function invokeFunction(payload) {
            const { data, error } = await supabaseClient.functions.invoke('manage-rich-menu', { body: payload });
            if (error) throw error;
            return data;
        }

        async function showUserSearchModal(title) {
            return new Promise((resolve) => {
                let selectedUsers = new Set();
                Swal.fire({
                    title: title,
                    width: 'clamp(300px, 90%, 600px)',
                    html: `
                        <div class="p-2 text-left">
                            <div class="space-y-2 sm:space-y-0 sm:flex sm:gap-2 sm:items-center">
                               <input 
                                id="swal-user-search" 
                                class="flex-1 min-w-0 px-4 py-2 rounded-lg border border-gray-600 bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 swal2-input" 
                                placeholder="พิมพ์ userId หรือชื่อ..."
                                >
                                                                <button id="swal-user-search-btn" class="btn btn-primary py-2 px-5 rounded-lg w-full sm:w-auto flex-shrink-0 font-semibold">ค้นหา</button>
                            </div>
                            <div id="swal-user-results" class="mt-4 max-h-60 overflow-y-auto border border-gray-600 rounded-lg bg-gray-700/50">
                               <p class="text-center text-gray-400 p-4">กรุณาพิมพ์เพื่อค้นหาผู้ใช้</p>
                            </div>
                        </div>
                    `,
                    showCancelButton: true,
                    cancelButtonText: 'ยกเลิก',
                    showConfirmButton: true,
                    confirmButtonText: 'ยืนยัน',
                    customClass: {
                      popup: 'swal2-popup',
                      confirmButton: 'btn btn-primary',
                      cancelButton: 'btn !bg-gray-600 hover:!bg-gray-500 !text-white',
                    },
                    preConfirm: () => Array.from(selectedUsers),
                    didOpen: () => {
                        const searchInput = document.getElementById('swal-user-search');
                        const searchBtn = document.getElementById('swal-user-search-btn');
                        const resultsContainer = document.getElementById('swal-user-results');
                        const confirmBtn = Swal.getConfirmButton();
                        confirmBtn.disabled = true;

                        const updateSelectedCount = () => {
                            const count = selectedUsers.size;
                            confirmBtn.textContent = `ยืนยัน (${count})`;
                            confirmBtn.disabled = count === 0;
                        };

                        const performSearch = async () => {
                           const searchTerm = searchInput.value.trim();
                            if (searchTerm.length < 2) {
                                resultsContainer.innerHTML = '<p class="text-center text-gray-400 p-4">กรุณาพิมพ์อย่างน้อย 2 ตัวอักษร</p>';
                                return;
                            }
                            resultsContainer.innerHTML = '<p class="text-center text-gray-400 p-4">กำลังค้นหา...</p>';

                            try {
                                const { users: data } = await invokeFunction({ 
                                    action: 'getUsersWithRichMenu', 
                                    searchTerm: searchTerm 
                                });

                                if (!data || data.length === 0) {
                                    resultsContainer.innerHTML = '<p class="text-center text-gray-400 p-4">ไม่พบผู้ใช้</p>';
                                    return;
                                }

                                resultsContainer.innerHTML = '';
                                data.forEach(user => {
                                    const userEl = document.createElement('label');
                                    // Update hover color and margin for better look
                                    userEl.className = 'flex items-start gap-3 p-3 rounded-lg hover:bg-gray-600/70 cursor-pointer transition-colors m-0.5';
                                    
                                    const linkedMenuInfo = richMenuDataCache.get(user.linkedRichMenuId);
                                    let linkedMenuInfoHTML = `<p class="text-xs mt-1 text-gray-500">ใช้ Rich Menu เริ่มต้น</p>`;
                                    if (linkedMenuInfo) {
                                        // New design for linked menu info
                                        linkedMenuInfoHTML = `
                                            <div class="mt-2 p-2 bg-gray-800 rounded-md flex items-center gap-2 border border-gray-700">
                                                <img src="data:image/png;base64,${linkedMenuInfo.imageBase64}" class="w-12 h-auto rounded-sm flex-shrink-0" alt="Rich Menu Image">
                                                <p class="text-xs text-blue-400 truncate font-medium" title="${linkedMenuInfo.name}">เมนูที่ใช้งาน: ${linkedMenuInfo.name}</p>
                                            </div>`;
                                    }

                                    userEl.innerHTML = `
                                        <input type="checkbox" class="form-checkbox h-5 w-5 mt-1.5 bg-gray-700 rounded border-gray-500 text-blue-500 focus:ring-blue-500/50 focus:ring-offset-2 focus:ring-offset-gray-700" data-userid="${user.userId}">
                                        <img src="${user.pictureUrl || ''}" onerror="this.onerror=null;this.src='https://img.icons8.com/?size=80&id=492ILERveW8G&format=png'" alt="Profile" class="w-10 h-10 rounded-full object-cover flex-shrink-0 mt-1 border-2 border-gray-600">
                                        <div class="overflow-hidden flex-grow">
                                            <p class="font-semibold truncate">${user.displayName}</p>
                                            <p class="text-xs text-gray-400 font-mono break-all truncate">${user.userId}</p>
                                            ${linkedMenuInfoHTML}
                                        </div>`;
                                    const checkbox = userEl.querySelector('input[type="checkbox"]');
                                    checkbox.checked = selectedUsers.has(user.userId);
                                    checkbox.addEventListener('change', (e) => {
                                        if (e.target.checked) selectedUsers.add(user.userId);
                                        else selectedUsers.delete(user.userId);
                                        updateSelectedCount();
                                    });
                                    resultsContainer.appendChild(userEl);
                                });
                            } catch (err) {
                                console.error("Search error:", err);
                                resultsContainer.innerHTML = `<p class="text-center text-red-400 p-4">เกิดข้อผิดพลาดในการค้นหา</p>`;
                            }
                        };
                        searchBtn.addEventListener('click', performSearch);
                        searchInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') { e.preventDefault(); performSearch(); }});
                        searchInput.focus();
                        updateSelectedCount();
                    }
                }).then((result) => resolve(result.isConfirmed ? result.value : null));
            });
        }

       function renderRichMenuCard(menu) {
            const card = document.createElement('div');
            card.id = `menu-${menu.richMenuId}`;
            // Use the new richmenu-card class for improved look
            card.className =
                'richmenu-card p-4 flex flex-col gap-4 fade-in';

            
            const aspectRatio =
                menu.size && menu.size.width && menu.size.height
                    ? `${menu.size.width} / ${menu.size.height}`
                    : '2500 / 843';

            card.innerHTML = `
                <div class="img-container animate-pulse">                     <img src="data:image/png;base64,${menu.imageBase64 || ''}" 
                         alt="${menu.name}" 
                         style="aspect-ratio:${aspectRatio};" />
                </div>
                <div>
                    <h3 class="font-bold text-xl text-white truncate">${menu.name}</h3>
                    <p class="text-xs text-gray-400 font-mono break-all mt-1">${menu.richMenuId}</p>
                </div>
                <div class="mt-auto grid grid-cols-2 gap-3 text-base">                                         <button class="link-user-btn btn btn-primary py-2 px-3 rounded-lg text-sm">🔗 เซ็ต Users</button>
                    <button class="unlink-user-btn btn btn-primary py-2 px-3 rounded-lg text-sm !bg-indigo-500 hover:!bg-indigo-600">🧷 ยกเลิก Users</button>
                    <button class="set-default-btn btn btn-primary py-2 px-3 rounded-lg col-span-2 !bg-green-500 hover:!bg-green-600">⭐ Set ทั้งหมด (Default)</button>
                    <button class="delete-menu-btn btn btn-danger py-2 px-3 rounded-lg col-span-2">🗑️ ลบ Menu</button>
                </div>`;

            
            card.querySelector('.link-user-btn').addEventListener('click', () =>
                handleLinkUser(menu.richMenuId)
            );
            card.querySelector('.unlink-user-btn').addEventListener('click', () =>
                handleUnlinkUser(menu.richMenuId)
            );
            card.querySelector('.set-default-btn').addEventListener('click', () =>
                handleSetDefault(menu.richMenuId)
            );
            card.querySelector('.delete-menu-btn').addEventListener('click', () =>
                handleDeleteMenu(menu.richMenuId, menu.name)
            );

            return card;
        }




        async function loadRichMenus() {
            showLoading('กำลังโหลดข้อมูล Rich Menu API...');
            richMenuGrid.innerHTML = '';
            richMenuDataCache.clear();

            try {
                const { richmenus } = await invokeFunction({ action: 'getList' });
                if (!richmenus || richmenus.length === 0) {
                    richMenuGrid.innerHTML = '<p class="text-center col-span-full text-gray-400 p-8">ไม่พบ Rich Menu ที่สร้างไว้ใน LINE OA</p>';
                    hideLoading();
                    return;
                }

                richmenus.forEach(menu => {
                    richMenuGrid.appendChild(renderRichMenuCard(menu));
                    richMenuDataCache.set(menu.richMenuId, menu);
                });

                const imageFetchPromises = richmenus.map(async (menu) => {
                    try {
                        const { imageBase64 } = await invokeFunction({ action: 'getRichMenuImage', richMenuId: menu.richMenuId });
                        const cardElement = document.getElementById(`menu-${menu.richMenuId}`);
                        if (cardElement && imageBase64) {
                            const imgContainer = cardElement.querySelector('.img-container');
                            imgContainer.classList.remove('animate-pulse');
                            const aspectRatio = (menu.size && menu.size.width && menu.size.height) ? `${menu.size.width} / ${menu.size.height}` : '2500 / 843';
                            // Using a data URI for the image
                            imgContainer.innerHTML = `<img src="data:image/png;base64,${imageBase64}" alt="${menu.name}" style="aspect-ratio: ${aspectRatio};">`;
                            
                            const cachedMenu = richMenuDataCache.get(menu.richMenuId);
                            if (cachedMenu) cachedMenu.imageBase64 = imageBase64;
                        }
                    } catch (imgErr) {
                        console.error(`Failed to load image for ${menu.richMenuId}`, imgErr);
                    }
                });

                await Promise.all(imageFetchPromises);

            } catch (err) {
                console.error(err);
                showToast('error', `โหลดข้อมูลไม่สำเร็จ: ${err.message}`);
            } finally {
                hideLoading();
            }
        }
        
        async function handleLinkUser(richMenuId) {
            const userIds = await showUserSearchModal('🔗 กำหนด Rich Menu นี้ให้กับผู้ใช้');
            if (userIds && userIds.length > 0) {
                showLoading(`กำลังลิงก์ Rich Menu ให้ ${userIds.length} คน...`);
                try {
                    await invokeFunction({ action: 'bulkLink', userIds, richMenuId });
                    showToast('success', '✅ ลิงก์ Rich Menu สำเร็จ');
                } catch (err) {
                    console.error(err);
                    showToast('error', `❌ ลิงก์ Rich Menu ไม่สำเร็จ: ${err.message}`);
                } finally {
                    hideLoading();
                }
            }
        }
        
        async function handleUnlinkUser(richMenuId) {
            const userIds = await showUserSearchModal('🧷 ยกเลิก Rich Menu เฉพาะของผู้ใช้');
            if (userIds && userIds.length > 0) {
                showLoading(`กำลังยกเลิก Rich Menu ของ ${userIds.length} คน...`);
                try {
                    const data = await invokeFunction({ action: 'bulkUnlink', userIds });
                    showToast('success', data.message || '👍 ยกเลิกการลิงก์สำเร็จ');
                } catch (err) {
                    console.error(err);
                    showToast('error', `❌ ยกเลิกการลิงก์ไม่สำเร็จ: ${err.message}`);
                } finally {
                    hideLoading();
                }
            }
        }

        async function handleSetDefault(richMenuId) {
            Swal.fire({
                title: 'ตั้งเป็น Rich Menu เริ่มต้น?', text: 'Rich Menu นี้จะแสดงให้ผู้ใช้ทุกคนที่ยังไม่มี Rich Menu เฉพาะของตัวเอง', icon: 'question',
                showCancelButton: true, confirmButtonText: '✅ ยืนยัน', cancelButtonText: 'ยกเลิก',
                customClass: { popup: 'swal2-popup', confirmButton: 'btn btn-primary', cancelButton: 'btn !bg-gray-600 hover:!bg-gray-500 !text-white' }
            }).then(async (result) => {
                if (result.isConfirmed) {
                    showLoading('กำลังตั้งค่าเป็น Default...');
                    try {
                        await invokeFunction({ action: 'setDefault', richMenuId });
                        showToast('success', '⭐ ตั้งเป็น Rich Menu เริ่มต้นสำเร็จ');
                    } catch (err) {
                        console.error(err);
                        showToast('error', `❌ ตั้งค่าไม่สำเร็จ: ${err.message}`);
                    } finally {
                        hideLoading();
                    }
                }
            });
        }
        
        cancelDefaultBtn.addEventListener('click', () => {
             Swal.fire({
                title: 'ยกเลิก Rich Menu เริ่มต้น?', text: 'จะไม่มี Rich Menu เริ่มต้นสำหรับผู้ใช้ใหม่ทั้งหมด และผู้ใช้เดิมที่ถูกยกเลิก Rich Menu เฉพาะจะกลับไปใช้ค่า Default ของ LINE OA (ถ้ามี)', icon: 'warning',
                showCancelButton: true, confirmButtonText: '❌ ยืนยันการยกเลิก', cancelButtonText: 'ยกเลิก',
                customClass: { popup: 'swal2-popup', confirmButton: 'btn btn-danger', cancelButton: 'btn !bg-gray-600 hover:!bg-gray-500 !text-white' }
            }).then(async (result) => {
                if (result.isConfirmed) {
                    showLoading('กำลังยกเลิก Rich Menu เริ่มต้น...');
                    try {
                        await invokeFunction({ action: 'cancelDefault' });
                        showToast('success', '🗑️ ยกเลิก Rich Menu เริ่มต้นสำเร็จ');
                    } catch (err) {
                        console.error(err);
                        showToast('error', `❌ ยกเลิกไม่สำเร็จ: ${err.message}`);
                    } finally {
                        hideLoading();
                    }
                }
            });
        });

        async function handleDeleteMenu(richMenuId, menuName) {
            Swal.fire({
                title: `⚠️ ลบ Rich Menu "${menuName}"?`, text: "การกระทำนี้ไม่สามารถย้อนกลับได้!", icon: 'error',
                showCancelButton: true, confirmButtonText: '🔥 ลบอย่างถาวร', cancelButtonText: 'ยกเลิก',
                customClass: { popup: 'swal2-popup', confirmButton: 'btn btn-danger', cancelButton: 'btn !bg-gray-600 hover:!bg-gray-500 !text-white' }
            }).then(async (result) => {
                if (result.isConfirmed) {
                    showLoading('กำลังลบ Rich Menu...');
                    try {
                        await invokeFunction({ action: 'deleteMenu', richMenuId });
                        showToast('success', '🗑️ ลบ Rich Menu สำเร็จ');
                        await loadRichMenus(); // Reload data
                    } catch (err) {
                        console.error(err);
                        showToast('error', `❌ ลบ Rich Menu ไม่สำเร็จ: ${err.message}`);
                    } finally {
                        hideLoading();
                    }
                }
            });
        }

        document.addEventListener('DOMContentLoaded', async () => {
            showLoading('กำลังเริ่มต้น LIFF...');
            try {
                await liff.init({ liffId: LIFF_ID, withLoginOnExternalBrowser: true });
                if (!liff.isLoggedIn()) {
                    liff.login({ redirectUri: window.location.href });
                    return;
                }
                await loadRichMenus();
            } catch (err) {
                console.error('Critical Error:', err);
                showToast('error', '❌ เกิดข้อผิดพลาด ไม่สามารถโหลดแอปได้');
                richMenuGrid.innerHTML = `<p class="text-center col-span-full text-red-400 p-8">เกิดข้อผิดพลาดในการเริ่มต้นแอปพลิเคชัน ไม่สามารถเชื่อมต่อกับ LIFF หรือโหลดข้อมูลได้</p>`;
                hideLoading();
            }
        });
    </script>
</body>
</html>
